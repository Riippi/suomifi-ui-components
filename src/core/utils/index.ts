import { FlattenSimpleInterpolation } from 'styled-components';
import { withSuomifiTheme, TokensAndTheme } from '../theme';
import { withSuomifiDefaultProps } from '../theme/utils';

/**
 *  Get CSS export from baseStyles generated by Emotion/Styled
 * @param baseStyles Emotion CSS
 * @param props properties needed to get desired styles from components
 */
export const cssFromBaseStyles = (
  baseStyles: <K>(props: K & TokensAndTheme) => FlattenSimpleInterpolation,
) => {
  const { tokens } = withSuomifiDefaultProps({});
  return withSuomifiTheme(baseStyles)({ tokens }).join('');
};
